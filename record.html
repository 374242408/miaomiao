<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />

	<link rel="stylesheet" href="./bootstrap/dist/css/bootstrap.min.css" />
	<!-- Font Awesome -->
	<!-- Ionicons -->
	<link rel="stylesheet" href="./Ionicons/css/ionicons.min.css" />
	<link rel="stylesheet" href="./dist/css/AdminLTE.min.css" />
	<link rel="stylesheet" href="./dist/css/skins/_all-skins.min.css" />

	<style>

		body {
			padding: 10px;
			background: #eee;
		}

		td {
			padding: 0 10px 0 0px;
		}

		tr.event{
			background: #e4f5e7 !important;
		}

		th, td{
			text-align: center;
			vertical-align: middle !important;
			font-size: 18px;
		}

		.split_line {
			border-bottom: 1px solid #333;
			width: 60px;
			margin: 0 auto;
		}

		.outcome{
			color: red;
			font-weight: 600;
		}
		.income{
			font-weight: 700;
			color: #1dc51a;
		}
		.record_table tr:nth-child(2n+1){
			background: #fbfbfb;
		}
		.names{
			font-size: 14px;
		}
		.small_text{
			font-size: 14px;
		}
		.ball_item{
			display: table-cell;
		}
	</style>
</head>
<body>
	<div class="box box-info" style="padding:0 20px 0 5px;background:#a8e09d">
		<div class="box-header with-border">
			<h3 class="box-title">群卡开场记录</h3><span id="time_span"></span>
		</div>
	</div>
	<hr />
	<div class="box">
		<div class="box-header">
			<h3 class="box-title">...</h3>

			<div class="box-tools">
				<div class="input-group input-group-sm" style="width: 150px;">
					<input type="text" name="table_search" class="form-control pull-right" placeholder="Search" />

					<div class="input-group-btn">
						<button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
					</div>
				</div>
			</div>
		</div>
		<!-- /.box-header -->
		<div class="box-body table-responsive no-padding">
			<table class="table table-hover record_table">
				<tr>
					<th>标题</th>
					<th class="item-people">人数</th>
					<th>名单</th>
					<th>收支</th>
					<th class="ball_item">球</th>
					<th>场地</th>
					<th>卡余</th>
					<th>备注</th>
				</tr>
			</table>
		</div>
		<!-- /.box-body -->
	</div>
	<div class="main-content">

	</div>
	<script src="./jquery/dist/jquery.min.js"></script>
	<script src="./bootstrap/dist/js/bootstrap.min.js"></script>
	<script src="./jquery-slimscroll/jquery.slimscroll.min.js"></script>

	<script src="./fastclick/lib/fastclick.js"></script>
	<script src="./dist/js/adminlte.min.js"></script>


	<script>
		$(function () {
			var card_total = 4000;
			var items = [
				{
					date: '<span class="small_text">0413 事件</span>',
					peopleNum: 18,
					names: '顺冷扣暖劫锋蓝满勇熬杨丽彦鑫凤武<a title="李老师">福</a>毅',
					income: 467 + 18*200 - 3000,
					areaNum: 0,		// 开场数
					area: 0,		// 场地总费用
					ball: 53,
					others: '<span class="small_text">会员充值 200 * 18</span><p class="small_text">上期余额467，剩球53</p>',
					type: 'event'
				},
				{
					date: '<span class="small_text">0413 事件</span>',
					peopleNum: 0,
					names: '---------------',
					income: -6*50,
					areaNum: 0,		// 开场数
					area: 0,		// 场地总费用
					ball: 6*12,
					others: '<span class="small_text">球 6 桶</span>',
					type: 'event'
				},
				{
					date: '2020-04-13(一)',
					peopleNum: 17,
					names: '锋鑫扣丽毅冷暖满杨劫蓝顺凤<p>瓦燕芽兵</p>',
					income: 18*4,
					areaNum: 3,		// 开场数
					area: -220,		// 场地总费用
					ball: -35,
					others: '',
					type: 'data'
				},
				{
					date: '2020-04-15(三)',
					peopleNum: 18,
					names: '冷暖鑫熬扣勇彦顺蓝劫杨凤毅福<p>南宇静迪</p>',
					income: 18 * 4,
					areaNum: 3,		// 开场数
					area: -225,		// 场地总费用
					ball: -29,
					others: '',
					type: 'data'
				},
				{
					date: '<span class="small_text">0416 事件</span>',
					peopleNum: 0,
					names: '---------------',
					income: -3*50 - 5*55,
					areaNum: 0,		// 开场数
					area: 0,		// 场地总费用
					ball: 8*12,
					others: '<a class="small_text" title="聚红3*50，中级星5*55">球 8 桶</a>',
					type: 'event'
				},
				{
					date: '2020-04-17 交流赛(1)',
					peopleNum: 20,
					names: '彦冷丽顺鑫劫暖扣满武杨蓝凤<p>迪吹卢芽<a title="补贴2厅牛">兵</a>宇静</p>',
					income: 4*20 + 18*2 + 10,
					areaNum: 4,		// 开场数
					area: -225,		// 场地总费用
					ball: -22,
					others: '<a class="small_text" title="实际开场5个，对方留下19厅红牛支付2个场地，剩余补给对方60元">开场3 + 2</a>',
					type: 'data'
				},
				{
					date: '2020-04-17 交流赛(2)',
					peopleNum: 0,
					names: '--------------------------',
					income: -60,
					areaNum: 0,		// 开场数
					area: 0,		// 场地总费用
					ball: 0,
					others: '<span class="small_text"><a title="对方出球58*2，我方出场地65*2">各种乱七八糟AA计算</a><p>支付柳州队60元</p></span>',
					type: 'data'
				},
				{
					date: '2020-04-20(一)',
					peopleNum: 18,
					names: '暖劫鑫扣杨武满默锋凤顺毅勇<p title="15+8+20+16+18">兵，芽，保，杨总，福鸽</p>',
					income: 15+8+20+16+18,		// 收费顺序对应名单
					areaNum: 3,		// 开场数
					area: -180,	// -
					ball: -15,	// -
					others: '<span class="small_text" title="南风，开场到22.00，收费波动">|||||</span>',
					type: 'data'
				},
				{
					date: '2020-04-22(三)',
					peopleNum: 15,
					names: '暖顺鑫凤熬杨扣满劫毅勇宇芽兵鑫+1',
					income: 20*3 + 16,
					areaNum: 3,		// 开场数
					area: -190,		// 场地总费用
					ball: -31,
					others: '',
					type: 'data'
				},
				{
					date: '2020-04-24(五)',
					peopleNum: 24,
					names: '暖彦武冷扣鑫满顺福杨默毅劫凤勇锋熬迪宇吹保江芽静',
					income: 20*5 + 16*2,
					areaNum: 4,		// 开场数
					area: -280,		// 场地总费用
					ball: -32,
					others: '<span class="small_text" title="开场4个，群内鸭脚杯 ..">|||||</span>',
					type: 'data'
				},
				{
					date: '2020-04-27(一)',
					peopleNum: 15,
					names: '扣冷暖劫鑫杨武满凤顺锋 <a title="18">瓦</a>河<a title="一男两女，有个未打不收取">鑫+3</a>',
					income: 18+20*2+16,
					areaNum: 3,		// 开场数
					area: -170,		// 场地总费用
					ball: -19,
					others: '<span class="small_text" title="两个场地+一个小时">|||||</span>',
					type: 'data'
				},
				{
					date: '2020-04-29(三)',
					peopleNum: 20,
					names: '扣冷彦劫迪鑫+1丽静庆毅福<p>顺凤锋杨杨总+1卢元</p>',
					income: 16+20+20+20+16+20+20+20,
					areaNum: 3,		// 开场数
					area: -235,		// 场地总费用
					ball: -34,
					others: '',
					type: 'data'
				},
				{
					date: '<span class="small_text">0501 事件</span>',
					peopleNum: 0,
					names: '---------------',
					income: -11*55,
					areaNum: 0,
					area: 0,
					ball: 11*12,
					others: '<span class="small_text">球 11 桶</span>',
					type: 'event'
				},
				{
					date: '2020-05-01(五)',
					peopleNum: 20,
					names: '顺扣暖彦迪宇吹鑫丽杨劫勇<p>静毅满锋瓦鑫+1卢毅+1</p>',
					income: 16+20*7,
					areaNum: 3,		// 开场数
					area: -210,		// 场地总费用
					ball: -22,
					others: '',
					type: 'data'
				},
				{
					date: '2020-05-04(一)',
					peopleNum: 9,
					names: '暖杨鑫武凤锋满元<span title="15">庆</span>..',
					income: 35,
					areaNum: 2,		// 开场数
					area: -100,		// 场地总费用
					ball: -18,
					others: '',
					type: 'data'
				},
				{
					date: '2020-05-06(三)',
					peopleNum: 20,
					names: '暖鑫锋瓦静燕凤满冷劫<p>保迪鑫+1卢宇杨顺丽毅王</p>',
					income: 20*6+3*16,
					areaNum: 3,		// 开场数
					area: -210,		// 场地总费用
					ball: -24,
					others: '',
					type: 'data'
				},
				{
					date: '2020-05-08(五)',
					peopleNum: 21,
					names: '暖鑫冷扣毅凤勇劫燕静武峰满<p><a title="18，不知本人原因?">瓦</a>福杨宇鑫+1罗文,<a title="15,15">元,庆</a></p>',
					income: 2*16+18+3*20+15+15,
					areaNum: 3,		// 开场数
					area: -210,		// 场地总费用
					ball: -23,
					others: '',
					type: 'data'
				},
				{
					date: '2020-05-11(一)',
					peopleNum: 13,
					names: '暖鑫劫冷丽毅杨凤<p><a title="12">芽</a>扣武勇鑫+1风兄</p>',
					income: 12+20+20,
					areaNum: 2,		// 开场数
					area: -150,		// 场地总费用
					ball: -19,
					others: '',
					type: 'data'
				},
				{
					date: '<span class="small_text">0513 事件</span>',
					peopleNum: 0,
					names: '---------------',
					income: -10*56,
					areaNum: 0,
					area: 0,
					ball: 10*12,
					others: '<span class="small_text">球 10 桶</span>',
					type: 'event'
				},
				{
					date: '2020-05-13(三)',
					peopleNum: 24,
					names: '暖冷鑫鑫1鑫2武峰宇迪丽凤杨顺<p>元庆劫福毅扣杨总杨总+1罗文瓦<a title="10">芽</a></p>',
					income: 186,
					areaNum: 4,		// 开场数
					area: -285,		// 场地总费用
					ball: -32,
					others: '',
					type: 'data'
				},
				{
					date: '2020-05-15(五)',
					peopleNum: 28,
					names: '暖满勇丽江鑫+1王静卢凤迪松杨彦<p>吹曼猛+1猛瓦顺武鑫劫锋冷扣毅宇</p>',
					income: 244 - 25,
					areaNum: 4,		// 开场数
					area: -325,		// 场地总费用
					ball: -35,
					others: '<span class="small_text" title="减 25 西瓜">|||||</span>',
					type: 'data'
				},
				{
					date: '2020-05-18(一)',
					peopleNum: 14,
					names: '劫锋芽扣冷勇庆熬元，风兄毅凤顺，求知',
					income: 96,
					areaNum: 2,		// 开场数
					area: -170,		// 场地总费用
					ball: -23,
					others: '',
					type: 'data'
				},
				{
					date: '2020-05-20(三)',
					peopleNum: 0,
					names: '冷扣熬勇.....未参与',
					income: 80,
					areaNum: 2,		// 开场数
					area: -120,		// 场地总费用
					ball: -16,
					others: '<span class="small_text" title="未参与 人数具体未知">|||||</span>',
					type: 'data'
				},
				{
					date: '2020-05-22(五)',
					peopleNum: 20,
					names: '鑫暖丽吹凤冷迪扣静彦<a title="12">芽</a>宇勇熬顺卢毅丽+1曼劫',
					income: 144,
					areaNum: 3,		// 开场数
					area: -255,		// 场地总费用
					ball: -22,
					others: '',
					type: 'data'
				},
				{
					date: '<span class="small_text">0525 事件</span>',
					peopleNum: 0,
					names: '---------------',
					income: -10*56,
					areaNum: 0,
					area: 0,
					ball: 10*12,
					others: '<span class="small_text">球 10 桶</span>',
					type: 'event'
				},
				{
					date: '2020-05-25(一)',
					peopleNum: 22,
					names: '劫卢顺<a title="2男1女">鑫+3</a>瓦燕冷扣毅<a title="12">芽</a>杨福凤武<a title="18">茂</a>彦勇',
					income: 66,		
					areaNum: 3,		// 开场数
					area: -240,		// 场地总费用
					ball: -22,
					others: '',
					type: 'data'
				},
			];

			var expend_area = 0;
			var income_total = 0;
			var ball_total = 0;

			for (var i = 0; i < items.length; i++) {

				var m = items[i];

				expend_area += m.area;
				income_total += m.income;
				ball_total += m.ball;

				var in_out = m.income > 0 ? 'income' : 'outcome';
				var area_in_out = m.area >= 0 ? 'none' : 'outcome';
				var ball_in_out = 'none';
				if (m.ball < 0)
					ball_in_out = 'outcome';
				else if (m.ball > 0)
					ball_in_out = 'income';

				$('.record_table').append('<tr class="' + m.type + '"><td class="item-title">' + m.date + '</td><td class="item-people">' + m.peopleNum + '</td><td class="names">' + m.names + '</td><td class="' + in_out + '">' + m.income + '</td><td class="ball_item ' + ball_in_out + '">' + m.ball
					+ '</td><td class="' + area_in_out + '">' + m.area + '</td><td>' + (card_total + expend_area) + '</td><td>' + m.others + '</td></tr>');
			}

			var in_out = income_total > 0 ? 'income' : 'outcome';
			var ball_in_out = ball_total > 0 ? 'income' : 'outcome';
			$('.record_table').append('<tr class="total_tr"><th>结算</th><th class="item-people">-----</th><th>-----------------------------------------------------</th><th class="' + in_out + '">' + income_total + '</th><th class="ball_item ' + ball_in_out +'">' + ball_total + '</th><th>-----</th><th>' + (card_total + expend_area) + '</th><th>-----</th></tr>');
		})
	</script>
</body>
</html>  